# –°–≤–æ–¥–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã: –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ Task/Conversion

## ‚úÖ –ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é

**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å Task/Conversion —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏: —Å—Ç–∞—Ç—É—Å (queued, running, done, failed), –ø—Ä–æ–≥—Ä–µ—Å—Å (0‚Äì100), –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏. –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏.

## üìã –ß—Ç–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ:

### 1. –ú–æ–¥–µ–ª—å ConversionTask (`converter/models.py`)
- ‚úÖ **–°—Ç–∞—Ç—É—Å—ã –∑–∞–¥–∞—á**: queued, running, done, failed 
- ‚úÖ **–ü—Ä–æ–≥—Ä–µ—Å—Å**: IntegerField —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –æ—Ç 0 –¥–æ 100
- ‚úÖ **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**: JSONField –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞–¥–∞—á–µ
- ‚úÖ **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è**: –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏, —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚úÖ **–£–¥–æ–±–Ω—ã–µ –º–µ—Ç–æ–¥—ã**: start(), complete(), fail(), update_progress()
- ‚úÖ **–°–≤–æ–π—Å—Ç–≤–∞**: is_finished, is_active, duration

### 2. –ê–¥–º–∏–Ω–∫–∞ Django (`converter/admin.py`)
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- ‚úÖ –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ –£–¥–æ–±–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –î–µ–π—Å—Ç–≤–∏—è –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –∑–∞–¥–∞—á
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫

### 3. –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è `converter/migrations/0001_initial.py`
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞: `python manage.py migrate`
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è `test_conversion_task.py`
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–¥–µ–ª–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è `CONVERSION_TASK_README.md`
- ‚úÖ –°–æ–∑–¥–∞–Ω —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω–∫–µ

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥–µ–ª–∏:

```python
class ConversionTask(models.Model):
    # –û—Å–Ω–æ–≤–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã —Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó
    status = CharField(choices=[queued, running, done, failed])
    progress = IntegerField(0-100 —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π)
    task_metadata = JSONField(–¥–ª—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö)
    
    # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞
    created_at = DateTimeField()
    updated_at = DateTimeField() 
    started_at = DateTimeField()
    completed_at = DateTimeField()
    error_message = TextField()
```

## üîß –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏:
```python
task = ConversionTask.objects.create(
    task_metadata={
        'original_filename': 'video.mp4',
        'input_format': 'mp4', 
        'output_format': 'avi'
    }
)
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–µ–π:
```python
task.start()                    # –ó–∞–ø—É—Å–∫
task.update_progress(50)        # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
task.complete()                 # –£—Å–ø–µ—à–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ  
task.fail("Error message")     # –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å –æ—à–∏–±–∫–æ–π
```

## üéØ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|------------|---------|------------|
| –°—Ç–∞—Ç—É—Å (queued, running, done, failed) | ‚úÖ | CharField —Å choices |
| –ü—Ä–æ–≥—Ä–µ—Å—Å (0‚Äì100) | ‚úÖ | IntegerField —Å –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞–º–∏ |
| –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ | ‚úÖ | JSONField |
| –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ | ‚úÖ | –°–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã |

## üöÄ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- **–ò–Ω–¥–µ–∫—Å—ã** –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ —Å—Ç–∞—Ç—É—Å—É –∏ –¥–∞—Ç–µ
- **–ê–¥–º–∏–Ω–∫–∞** —Å —É–¥–æ–±–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è  
- **API –º–µ—Ç–æ–¥—ã** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –∑–∞–¥–∞—á
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏
- **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏** –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **–¢–µ—Å—Ç—ã** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

1. `converter/models.py` - –ú–æ–¥–µ–ª—å ConversionTask
2. `converter/admin.py` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–¥–º–∏–Ω–∫–∏
3. `converter/migrations/0001_initial.py` - –ú–∏–≥—Ä–∞—Ü–∏—è
4. `test_conversion_task.py` - –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
5. `CONVERSION_TASK_README.md` - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
6. `TASK_COMPLETION_SUMMARY.md` - –≠—Ç–∞ —Å–≤–æ–¥–∫–∞

## üèÅ –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```
=== –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ ConversionTask ===

1. –°–æ–∑–¥–∞–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–¥–∞—á–∏:
–°–æ–∑–¥–∞–Ω–∞ –∑–∞–¥–∞—á–∞ #1
–°—Ç–∞—Ç—É—Å: –í –æ—á–µ—Ä–µ–¥–∏ ‚Üí –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è ‚Üí –ó–∞–≤–µ—Ä—à–µ–Ω–æ  
–ü—Ä–æ–≥—Ä–µ—Å—Å: 0% ‚Üí 10% ‚Üí 30% ‚Üí 50% ‚Üí 75% ‚Üí 90% ‚Üí 100%

2. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ—É–¥–∞—á–Ω–æ–π –∑–∞–¥–∞—á–∏:
–°–æ–∑–¥–∞–Ω–∞ –∑–∞–¥–∞—á–∞ #2 —Å –æ—à–∏–±–∫–æ–π

4. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º:
  –í –æ—á–µ—Ä–µ–¥–∏: 0
  –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è: 0  
  –ó–∞–≤–µ—Ä—à–µ–Ω–æ: 1
  –û—à–∏–±–∫–∞: 1
```

## ‚úÖ –ó–∞–¥–∞—á–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!
