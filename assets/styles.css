/*
  Универсальные стили UI для загрузки/конвертации
  - Фиолетовая тема
  - Drag-and-drop зона
  - Кнопки
  - Прогресс и спиннер
*/
:root{
  --violet-50:#f3f0ff;
  --violet-100:#e9e3ff;
  --violet-200:#cfc2ff;
  --violet-300:#b6a0ff;
  --violet-400:#9d7eff;
  --violet-500:#835cff; /* основной */
  --violet-600:#6c4ef3;
  --violet-700:#553bd3;
  --violet-800:#3f2ca6;
  --violet-900:#2c1f73;
  --text:#1f2330;
  --muted:#6b7280;
  --bg:#ffffff;
  --border:#e5e7eb;
  --success:#16a34a;
  --danger:#dc2626;
}

/* Базовые сбросы */
*{box-sizing:border-box}
body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;color:var(--text);background:var(--bg)}

/* Кнопки */
.btn{appearance:none;border:1px solid transparent;border-radius:12px;padding:10px 16px;font-weight:600;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;gap:8px}
.btn:disabled{opacity:.6;cursor:not-allowed}
.btn-primary{background:linear-gradient(180deg,var(--violet-500),var(--violet-600));color:#fff;box-shadow:0 8px 20px rgba(108,78,243,.25),0 2px 6px rgba(108,78,243,.15)}
.btn-primary:hover{filter:brightness(1.05);transform:translateY(-1px)}
.btn-primary:active{transform:translateY(0);filter:brightness(.98)}
.btn-outline{background:transparent;border-color:var(--violet-300);color:var(--violet-700)}
.btn-outline:hover{background:var(--violet-50);border-color:var(--violet-400);color:var(--violet-800)}
.btn-success{background:linear-gradient(180deg,#34d399,#10b981);color:#052b1a;border:none}

/* Tooltips (на CSS через data-tooltip) */
[data-tooltip]{position:relative}
[data-tooltip]:hover::after,[data-tooltip]:focus::after{content:attr(data-tooltip);position:absolute;left:50%;transform:translateX(-50%);bottom:calc(100% + 8px);background:#111827;color:#f9fafb;border:1px solid rgba(255,255,255,.08);padding:6px 10px;border-radius:8px;white-space:pre;box-shadow:0 8px 24px rgba(0,0,0,.15);font-size:12px;line-height:1.2;z-index:20}
[data-tooltip]:hover::before,[data-tooltip]:focus::before{content:"";position:absolute;left:50%;transform:translateX(-50%);bottom:100%;border:6px solid transparent;border-top-color:rgba(17,24,39,.9)}

/* Зона drag-and-drop */
.upload-dropzone{position:relative;border:2px dashed var(--violet-300);border-radius:16px;padding:28px;background:linear-gradient(180deg,#fff, var(--violet-50));text-align:center;color:var(--muted);transition:border-color .2s, background .2s, box-shadow .2s;}
.upload-dropzone:hover{border-color:var(--violet-400);}
.upload-dropzone.is-dragover{border-color:var(--violet-600);background:linear-gradient(180deg, #fff, #f7f5ff);box-shadow:0 10px 30px rgba(108,78,243,.15)}
.upload-dropzone .upload-icon{width:56px;height:56px;margin:0 auto 12px;border-radius:14px;display:grid;place-items:center;background:var(--violet-100);color:var(--violet-700);}
.upload-dropzone .upload-title{font-weight:700;color:var(--text);margin-bottom:6px}
.upload-dropzone .upload-hint{font-size:13px;color:var(--muted)}
.upload-dropzone input[type="file"]{position:absolute;inset:0;opacity:0;cursor:pointer}
.upload-dropzone .file-name{margin-top:10px;font-size:13px;color:var(--violet-800)}

/* Прогресс */
.progress{width:100%;height:10px;background:#f3f4f6;border-radius:999px;overflow:hidden;border:1px solid #e5e7eb}
.progress .bar{height:100%;width:0;background:linear-gradient(90deg,var(--violet-500),var(--violet-600));transition:width .2s ease}
.progress.is-animated .bar{background-size:28px 28px;background-image:linear-gradient(135deg, rgba(255,255,255,.35) 25%, rgba(255,255,255,0) 25%, rgba(255,255,255,0) 50%, rgba(255,255,255,.35) 50%, rgba(255,255,255,.35) 75%, rgba(255,255,255,0) 75%, rgba(255,255,255,0) 100%);animation:bar-stripes 1s linear infinite}
@keyframes bar-stripes{0%{background-position:0 0}100%{background-position:28px 0}}

/* Спиннер и оверлей */
.spinner{width:28px;height:28px;border-radius:50%;border:3px solid #e5e7eb;border-top-color:var(--violet-600);animation:spin .8s linear infinite;display:inline-block}
@keyframes spin{to{transform:rotate(360deg)}}
.loading-overlay{position:fixed;inset:0;background:rgba(255,255,255,.65);backdrop-filter:saturate(1.2) blur(2px);display:none;align-items:center;justify-content:center;z-index:9999}
.loading-overlay.active{display:flex}
.loading-card{background:#fff;border:1px solid var(--border);border-radius:16px;padding:18px 20px;box-shadow:0 12px 36px rgba(0,0,0,.08);display:flex;align-items:center;gap:12px;color:var(--text)}

/* Формы */
.input, select, input[type="number"], input[type="range"], input[type="text"]{width:100%;border:1px solid #e5e7eb;border-radius:12px;padding:10px 12px;outline:none;transition:border-color .2s, box-shadow .2s;background:#fff;color:var(--text)}
.input:focus, select:focus, input[type="number"]:focus, input[type="range"]:focus, input[type="text"]:focus{border-color:var(--violet-400);box-shadow:0 0 0 3px rgba(108,78,243,.15)}

/* Карточка формы */
.card{background:#fff;border:1px solid var(--border);border-radius:16px;padding:18px;box-shadow:0 10px 30px rgba(0,0,0,.04)}
.card + .card{margin-top:16px}

/* Утилиты */
.mt-12{margin-top:12px}
.mt-16{margin-top:16px}
.mt-24{margin-top:24px}
.flex{display:flex}
.items-center{align-items:center}
.justify-between{justify-content:space-between}
.gap-8{gap:8px}

/* Доп. стили для новой главной страницы */
/* Hero */
.hero{position:relative;overflow:hidden;padding:92px 0 64px;background:linear-gradient(180deg,#faf7ff,#ffffff)}
.hero .hero-content{position:relative;z-index:2;text-align:center}
.hero h1{margin:0 0 10px;font-size:40px;line-height:1.1;color:var(--violet-800)}
.hero p{margin:0 auto 22px;max-width:720px;color:var(--muted)}
.hero-cta{display:flex;gap:12px;justify-content:center}
.hero .hero-bg{position:absolute;inset:0;pointer-events:none;color:var(--violet-600)}
.hero-waves{position:absolute;left:0;right:0;bottom:-1px;height:120px;opacity:.6}
.blob{position:absolute;filter:blur(40px);opacity:.35}
.blob-1{width:300px;height:300px;background:radial-gradient(circle at 30% 30%, var(--violet-400), transparent 60%);left:-80px;top:-80px;animation:float 10s ease-in-out infinite}
.blob-2{width:260px;height:260px;background:radial-gradient(circle at 70% 30%, var(--violet-200), transparent 60%);right:-60px;top:-60px;animation:float 12s ease-in-out infinite reverse}
.blob-3{width:220px;height:220px;background:radial-gradient(circle at 50% 70%, var(--violet-300), transparent 60%);left:20%;bottom:-80px;animation:float 11s ease-in-out infinite}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(14px)}}

/* Секции и сетки */
.section{padding:44px 0}
.section-alt{background:linear-gradient(180deg, #faf7ff 0%, #ffffff 100%)}
.section-title{margin:0 0 14px;font-size:22px}
.section-title.center{text-align:center}
.grid-2{display:grid;grid-template-columns:1fr;gap:20px}
@media (min-width: 900px){.grid-2{grid-template-columns:1.1fr .9fr}}

/* Карточки (поверх существующих — чуть более универсально) */
.card{border-radius:14px}

/* Иллюстрация */
.illustration{text-align:center}
.lottie-lite{aspect-ratio:1.3/1;background:radial-gradient(circle at 50% 50%, rgba(131,92,255,.12), rgba(255,255,255,0));border-radius:12px;margin-bottom:10px}

/* Преимущества */
.benefits-grid{display:grid;grid-template-columns:1fr;gap:16px}
@media (min-width:900px){.benefits-grid{grid-template-columns:repeat(4,1fr)}}
.benefit{background:#fff;border:1px solid var(--border);border-radius:14px;padding:16px;text-align:center}
.benefit-icon{font-size:24px;margin-bottom:6px}

/* Диагностика и статусы */
.status-panel{background:#f0fdf4;border-left:3px solid var(--success);padding:12px 14px;border-radius:10px;margin-bottom:12px}
.status-list{margin:6px 0 0 16px;padding:0}
.status-list li{margin:4px 0}
.muted{color:var(--muted)}
.green{color:var(--success)}
.red{color:var(--danger)}
.upload-dashed{border:1.5px dashed var(--border);border-radius:10px;padding:12px}

/* Сообщения */
.msg{padding:14px;border-radius:10px}
.msg-ok{background:#ecfdf5;border-left:3px solid var(--success)}
.msg-info{background:#eff6ff;border-left:3px solid #3B82F6}
.msg-fail{background:#fef2f2;border-left:3px solid var(--danger)}
.msg-error{color:var(--danger)}

/* Превью */
.preview-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}
@media (max-width:900px){.preview-grid{grid-template-columns:1fr}}
.preview-card{background:#fff;border:1px solid var(--border);border-radius:12px;padding:12px}
.preview-card h3{margin:0 0 8px;font-size:16px}
#video-preview{width:100%;max-height:320px;display:none;border-radius:10px;background:#000}
#gif-preview{width:100%;max-height:320px;display:none;border-radius:10px;background:#000}

/* Модальное окно настроек */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.35);display:none;place-items:center;z-index:1000}
.modal.show{display:grid}
.modal__dialog{width:min(640px,92vw);background:#fff;border:1px solid var(--border);border-radius:14px;box-shadow:0 20px 60px rgba(0,0,0,.2);overflow:hidden}
.modal__header{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1px solid var(--border)}
.modal__title{margin:0;font-size:18px}
.modal__body{padding:14px 16px;display:grid;gap:12px}
.modal__footer{padding:12px 16px;display:flex;justify-content:flex-end;gap:8px;border-top:1px solid var(--border)}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media (max-width:560px){.form-row{grid-template-columns:1fr}}
.label{font-size:13px;color:var(--muted)}

/* Кнопка скачивания с анимацией */
.download-btn{position:relative}
.download-btn.downloading{pointer-events:none}
.download-btn.downloading::after{content:"";position:absolute;inset:0;border-radius:12px;box-shadow:0 0 0 0 rgba(131,92,255,.5);animation:pulse .9s ease-out 1}
@keyframes pulse{to{box-shadow:0 0 0 16px rgba(131,92,255,0)}}

/* Footer */
.footer{padding:22px 0;border-top:1px solid var(--border);color:#6b7280}
.footer .container{display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap}

